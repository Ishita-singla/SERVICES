{"ast":null,"code":"// import { useState ,useEffect} from \"react\";\n// import { useParams } from \"react-router-dom\";\n// import axios from \"axios\";\n\n// const ViewSmallsubCategoryinFront = () => {\n//   const { categoryname, subcategoryname } = useParams();  //route se le rha a\n//   console.log(categoryname);\n//   const [smallsubcategories,setSmallSubcategories]=useState([])\n//   const [cartCount, setCartCount] = useState(0); // ✅ Add cart count state\n\n//   useEffect(() => {\n//     axios.get(`http://localhost:5000/api/getsubsmallcategory/${categoryname}/${subcategoryname}`)\n//       .then(response => {\n//         setSmallSubcategories(response.data);\n//       })\n//       .catch(error => {\n//         console.error(\"Error fetching small subcategories:\", error);\n//       });\n//       // ✅ Fetch initial cart count from localStorage\n//     const storedCartCount = localStorage.getItem(\"cartCount\") || 0;\n//     setCartCount(parseInt(storedCartCount));\n//   }, [categoryname, subcategoryname]);\n//   // useEffect(() => {\n//   //   const savedCartCount = localStorage.getItem(\"cartCount\");\n//   //   if (savedCartCount) {\n//   //     setCartCount(parseInt(savedCartCount, 10));  // Convert to number\n//   //   }\n//   // }, []);\n\n//   const addtocart=async(smallsubcategoryname,smallsubcategoryimage,smallsubcategorycontent,Price)=>{\n//     // e.preventDefault();\n\n//            alert(\"Add to Cart...\"); // Show alert before submission\n//           try {\n\n//                 const response = await fetch(\"http://localhost:5000/api/addtocart\", {\n//                   method: \"POST\",\n//                   headers: { \"Content-Type\": \"application/json\" },\n//                   body: JSON.stringify({ subcategoryname,smallsubcategoryname:smallsubcategoryname, smallsubcategoryimage:smallsubcategoryimage,Price:Price }),\n//                 });\n\n//             if (response.status === 201) {\n\n//               alert(\"add to cart successfully\"); // Success message\n//               // ✅ Increase cart count\n//         const newCartCount = cartCount + 1;\n//         setCartCount(newCartCount);\n//         console.log(newCartCount);\n//         localStorage.setItem(\"cartCount\", newCartCount);\n//         window.dispatchEvent(new Event(\"storage\"));\n//         // setCartCount((prevCount) => {\n//         //   const newCount = prevCount + 1;\n//         //   localStorage.setItem(\"cartCount\", newCount);\n//         //   return newCount;\n//         // });\n//             }\n//           } catch (error) {\n//             console.error(\"Error adding to cart:\", error);\n//             alert(\"Failed to submit blog\");\n//           }\n\n//   }\n\n//   return (\n\n//     <div className=\"container mt-4\">\n//       <h2 className=\"text-center mb-4\">Small Subcategories of {subcategoryname}</h2>\n//       <div className=\"row\">\n//         {smallsubcategories.map((item) => (\n//           <div key={item._id} className=\"col-md-4 mb-3\">\n//             <div className=\"card shadow-sm\">\n//             <img\n//                 src={item.smallsubcategoryimage}\n//                 className=\"card-img-top\"\n//                 alt={item.smallsubcategoryname}\n//                 style={{ height: \"180px\", objectFit: \"cover\", borderRadius: \"10px\", padding: \"10px\" }}\n//               />\n//               <div className=\"card-body text-center\">\n//                 <h5 className=\"card-title\">{item.smallsubcategoryname}</h5>\n//               </div>\n//               <div className=\"card-body text-center\">\n//                 <h5 className=\"card-title\">{item.smallsubcategorycontent}</h5>\n//                 <h5 className=\"card-title\">{item.Price}</h5>\n//               </div>\n//               <button className=\"btn btn-primary mt-2\" onClick={()=>addtocart(item.smallsubcategoryname,item.smallsubcategoryimage,item.smallsubcategorycontent,item.Price)}>Add to Cart</button>\n\n//             </div>\n//           </div>\n//         ))}\n//       </div>\n//     </div>\n//   );\n// };\n// export default ViewSmallsubCategoryinFront;","map":{"version":3,"names":[],"sources":["C:/Users/HP/Desktop/serviceProject/frontend/src/components/ViewSmallSubCategoryinFront.js"],"sourcesContent":["// import { useState ,useEffect} from \"react\";\r\n// import { useParams } from \"react-router-dom\";\r\n// import axios from \"axios\";\r\n\r\n// const ViewSmallsubCategoryinFront = () => {\r\n//   const { categoryname, subcategoryname } = useParams();  //route se le rha a\r\n//   console.log(categoryname);\r\n//   const [smallsubcategories,setSmallSubcategories]=useState([])\r\n//   const [cartCount, setCartCount] = useState(0); // ✅ Add cart count state\r\n\r\n\r\n//   useEffect(() => {\r\n//     axios.get(`http://localhost:5000/api/getsubsmallcategory/${categoryname}/${subcategoryname}`)\r\n//       .then(response => {\r\n//         setSmallSubcategories(response.data);\r\n//       })\r\n//       .catch(error => {\r\n//         console.error(\"Error fetching small subcategories:\", error);\r\n//       });\r\n//       // ✅ Fetch initial cart count from localStorage\r\n//     const storedCartCount = localStorage.getItem(\"cartCount\") || 0;\r\n//     setCartCount(parseInt(storedCartCount));\r\n//   }, [categoryname, subcategoryname]);\r\n//   // useEffect(() => {\r\n//   //   const savedCartCount = localStorage.getItem(\"cartCount\");\r\n//   //   if (savedCartCount) {\r\n//   //     setCartCount(parseInt(savedCartCount, 10));  // Convert to number\r\n//   //   }\r\n//   // }, []);\r\n  \r\n\r\n  \r\n\r\n\r\n//   const addtocart=async(smallsubcategoryname,smallsubcategoryimage,smallsubcategorycontent,Price)=>{\r\n//     // e.preventDefault();\r\n        \r\n//            alert(\"Add to Cart...\"); // Show alert before submission\r\n//           try {\r\n           \r\n//                 const response = await fetch(\"http://localhost:5000/api/addtocart\", {\r\n//                   method: \"POST\",\r\n//                   headers: { \"Content-Type\": \"application/json\" },\r\n//                   body: JSON.stringify({ subcategoryname,smallsubcategoryname:smallsubcategoryname, smallsubcategoryimage:smallsubcategoryimage,Price:Price }),\r\n//                 });\r\n        \r\n//             if (response.status === 201) {\r\n             \r\n//               alert(\"add to cart successfully\"); // Success message\r\n//               // ✅ Increase cart count\r\n//         const newCartCount = cartCount + 1;\r\n//         setCartCount(newCartCount);\r\n//         console.log(newCartCount);\r\n//         localStorage.setItem(\"cartCount\", newCartCount);\r\n//         window.dispatchEvent(new Event(\"storage\"));\r\n//         // setCartCount((prevCount) => {\r\n//         //   const newCount = prevCount + 1;\r\n//         //   localStorage.setItem(\"cartCount\", newCount);\r\n//         //   return newCount;\r\n//         // });\r\n//             }\r\n//           } catch (error) {\r\n//             console.error(\"Error adding to cart:\", error);\r\n//             alert(\"Failed to submit blog\");\r\n//           }\r\n        \r\n\r\n//   }\r\n\r\n//   return (\r\n    \r\n//     <div className=\"container mt-4\">\r\n//       <h2 className=\"text-center mb-4\">Small Subcategories of {subcategoryname}</h2>\r\n//       <div className=\"row\">\r\n//         {smallsubcategories.map((item) => (\r\n//           <div key={item._id} className=\"col-md-4 mb-3\">\r\n//             <div className=\"card shadow-sm\">\r\n//             <img\r\n//                 src={item.smallsubcategoryimage}\r\n//                 className=\"card-img-top\"\r\n//                 alt={item.smallsubcategoryname}\r\n//                 style={{ height: \"180px\", objectFit: \"cover\", borderRadius: \"10px\", padding: \"10px\" }}\r\n//               />\r\n//               <div className=\"card-body text-center\">\r\n//                 <h5 className=\"card-title\">{item.smallsubcategoryname}</h5>\r\n//               </div>\r\n//               <div className=\"card-body text-center\">\r\n//                 <h5 className=\"card-title\">{item.smallsubcategorycontent}</h5>\r\n//                 <h5 className=\"card-title\">{item.Price}</h5>\r\n//               </div>\r\n//               <button className=\"btn btn-primary mt-2\" onClick={()=>addtocart(item.smallsubcategoryname,item.smallsubcategoryimage,item.smallsubcategorycontent,item.Price)}>Add to Cart</button>\r\n\r\n//             </div>\r\n//           </div>\r\n//         ))}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n// export default ViewSmallsubCategoryinFront;\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAMA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}